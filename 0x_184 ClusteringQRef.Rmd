---
title: "Clustering in R Quick Reference"
author: "Mark Niemann-Ross"
date: "`r Sys.Date()`"

output:
  html_document:
    df_print: paged
    toc: yes
  github_document:
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(cluster)

```


# About
## About This Document

This document provides brief explanations of the clustering functions available in Base R and the cluster package. 

## Related Material
[The cluster package](https://cran.r-project.org/web/packages/cluster/index.html) is recommended for advanced operations. The cluster package is based on [Finding Groups in Data](https://onlinelibrary.wiley.com/doi/book/10.1002/9780470316801) 

This Quick Reference is supplemental to courses on [LinkedIn Learning](https://www.linkedin.com/learning/r-for-data-science-lunchbreak-lessons/). A quick reference to [matrix math functions in R is here](http://niemannross.com/link/rmatrixqref). A quick reference to [plotting functions in R is here](http://niemannross.com/link/rplotqref). An index to all R functions covered at LinkedIn Learning is found [here](http://niemannross.com/link/rindex). The latest version of this quick reference is found [here](http://niemannross.com/link/rclusterqref). The source to this document is found on [github/mnr](https://github.com/mnr/R-for-Data-Science-Lunchbreak-Lessons). This document is available as Free Software under the terms of the [Free Software Foundationâ€™s](http://www.gnu.org/) [GNU General Public License](https://www.r-project.org/COPYING).

## About Mark Niemann-Ross
[Mark](https://niemannross.com/) is an author for LinkedIn Learning and writes Science Fiction.

# Partitioning methods
Divide dataset into k clusters. (k is defined by researcher)

## *pam* : Partitioning Around Medoids

```{r, echo=TRUE}
simpleQuakes <- quakes[,c("long","lat")]
mypam <- pam(simpleQuakes,2) # assuming 2 medoids

# components of mypam - see pam.object
# for example...
mypam$medoids # coordinates of medoids
mypam$id.med # indices of medoids (i.e. simpleQuakes[mypam$id.med,])

# mypam$clustering # which points belong to which medoid
# same as... pam(simpleQuakes, 4, cluster.only = TRUE)


# plotting PAM
#plot(mypam)
#plot(mypam, ask = TRUE) # menu for plots

#map("worldHires","Fiji", xlim=c(160,190), ylim =c(-40,-15))
plot(mypam, which.plots = 1)

```


## *kmeans* :
## *clara* : Clustering Large Applications
## *fanny* : Fuzzy Analysis Clustering


# Hierarchical methods
Start with cluster of one item, then build larger clusters (or the opposite)

## *agnes* : Agglomerative Nesting

```{r, echo=TRUE}
agnes(agriculture)
```


```{r, echo=TRUE}
plot(agnes(agriculture), which.plots = 2)
```

## *hclust* : 
## *diana* : DIvisive ANAlysis Clustering
## *mona* : MONothetic Analysis Clustering of Binary Variables

# Dissimilarity

## *daisy* : Dissimilarity Matrix Calculation

daisy creates a dissimilarity matrix
```{r, echo=TRUE}
daisy(head(agriculture))
```





